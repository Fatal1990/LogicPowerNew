<template>
  <section class="payment">
    <h2 class="payment__title">Способы оплаты</h2>
    <RadioBtnGroup
      :inputList="cashRadio"
      :name="'paymentType'"
      :isChecked="radioPaymentValue === RADIO_VALUES.cash"
      v-model="radioPaymentValue"
    />
    <RadioBtnGroup
      :inputList="cashlessRadio"
      :name="'paymentType'"
      v-model="radioPaymentValue"
    />
    <RadioBtnGroup
      :inputList="cashlessEntepreneurRadio"
      :name="'paymentType'"
      v-model="radioPaymentValue"
    />
    <div v-show="radioPaymentValue === RADIO_VALUES.cashlessEntepreneur">
      <CheckoutInput />
      <CheckoutInput />
    </div>
    <RadioBtnGroup
      :inputList="cashlessEntityRadio"
      :name="'paymentType'"
      v-model="radioPaymentValue"
    />
    <div v-show="radioPaymentValue === RADIO_VALUES.cashlessEntity">
      <CheckoutInput />
      <CheckoutInput />
    </div>
    <RadioBtnGroup
      :inputList="inInstRadio"
      :name="'paymentType'"
      v-model="radioPaymentValue"
    />
    <CheckoutInst v-show="radioPaymentValue === RADIO_VALUES.inInst"/>
    <RadioBtnGroup
      :inputList="instRadio"
      :name="'paymentType'"
      v-model="radioPaymentValue"
    />
    <CheckoutInst v-show="radioPaymentValue === RADIO_VALUES.inst"/>
  </section>
</template>

<script lang="ts">
import { Options, Vue } from "~/tools/version-types";
import RadioBtnGroup from "@/components/common/buttons/RadioBtnGroup.vue";
import CheckoutInput from "@/components/checkout/CheckoutInput.vue";
import CheckoutInst from "@/components/checkout/common/CheckoutInst.vue";

enum RADIO_VALUES {
  cashless = "cashless",
  cash = "cash",
  inst = "inst",
  inInst = "inInst",
  cashlessEntity = "cashlessEntity",
  cashlessEntepreneur = "cashlessEntepreneur",
}

type RadioBtnModel = {
  title: string;
  value: RADIO_VALUES;
  tip?: string;
};

@Options({
  name: "CheckoutPaymentComponent",
  components: {
    RadioBtnGroup,
    CheckoutInput,
    CheckoutInst,
  },
})
export default class CheckoutPaymentComponent extends Vue {
  RADIO_VALUES = RADIO_VALUES;
  radioPaymentValue: RADIO_VALUES = RADIO_VALUES.cash;

  cashlessRadio: RadioBtnModel[] = [
    {
      title: "Оплата картой",
      value: RADIO_VALUES.cashless,
    },
  ];

  cashRadio: RadioBtnModel[] = [
    {
      title: "Наличными при получении",
      value: RADIO_VALUES.cash,
    },
  ];

  instRadio: RadioBtnModel[] = [
    {
      title: "Мгновенная рассрочка",
      value: RADIO_VALUES.inst,
    },
  ];

  inInstRadio: RadioBtnModel[] = [
    {
      title: "Оплата частями",
      value: RADIO_VALUES.inInst,
    },
  ];

  cashlessEntityRadio: RadioBtnModel[] = [
    {
      title: "Безналичный расчет для юридических лиц",
      value: RADIO_VALUES.cashlessEntity,
    },
  ];

  cashlessEntepreneurRadio: RadioBtnModel[] = [
    {
      title: "Безналичный расчет для ФОП",
      value: RADIO_VALUES.cashlessEntepreneur,
    },
  ];

  // change(val) {
  //   this.radioPaymentValue = val;
  // }
}
</script>

<style lang="scss" scoped>
.payment {
  max-width: 833px;
  width: 100%;

  @include flex-container(column, center, flex-start);
  gap: 24px;

  background: white;
  border-radius: 8px;

  padding: 32px;

  @include bigMobile {
    max-width: none;

    padding: 16px;
  }
}
</style>
